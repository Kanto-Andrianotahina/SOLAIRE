--
-- PostgreSQL database dump
--

-- Dumped from database version 10.22
-- Dumped by pg_dump version 10.22

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: besoin_secteur; Type: TABLE; Schema: public; Owner: mamisoa
--

CREATE TABLE public.besoin_secteur (
    id_besoin integer NOT NULL,
    daty date,
    heure_coupure time without time zone,
    nombre_personne_matin integer,
    nombre_personne_apres_midi integer,
    puissance_moyenne double precision,
    id_secteur character varying
);


ALTER TABLE public.besoin_secteur OWNER TO mamisoa;

--
-- Name: besoin_secteur_id_besoin_seq; Type: SEQUENCE; Schema: public; Owner: mamisoa
--

CREATE SEQUENCE public.besoin_secteur_id_besoin_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.besoin_secteur_id_besoin_seq OWNER TO mamisoa;

--
-- Name: besoin_secteur_id_besoin_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: mamisoa
--

ALTER SEQUENCE public.besoin_secteur_id_besoin_seq OWNED BY public.besoin_secteur.id_besoin;


--
-- Name: coupure; Type: TABLE; Schema: public; Owner: mamisoa
--

CREATE TABLE public.coupure (
    id character varying(50) NOT NULL,
    date_jour date,
    id_secteur character varying(50),
    heure time without time zone
);


ALTER TABLE public.coupure OWNER TO mamisoa;

--
-- Name: details; Type: TABLE; Schema: public; Owner: mamisoa
--

CREATE TABLE public.details (
    id integer NOT NULL,
    date_details date,
    heure time without time zone,
    secteur character varying(50) NOT NULL,
    puissance_delivree double precision,
    puissance_delivree_batterie double precision,
    reserve_batterie double precision,
    besoin double precision,
    etat character varying(50)
);


ALTER TABLE public.details OWNER TO mamisoa;

--
-- Name: details_id_seq; Type: SEQUENCE; Schema: public; Owner: mamisoa
--

CREATE SEQUENCE public.details_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.details_id_seq OWNER TO mamisoa;

--
-- Name: details_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: mamisoa
--

ALTER SEQUENCE public.details_id_seq OWNED BY public.details.id;


--
-- Name: meteo; Type: TABLE; Schema: public; Owner: mamisoa
--

CREATE TABLE public.meteo (
    id character varying(50) NOT NULL,
    date_meteo date,
    heure_debut time without time zone,
    heure_fin time without time zone,
    luminosite double precision
);


ALTER TABLE public.meteo OWNER TO mamisoa;

--
-- Name: pointage; Type: TABLE; Schema: public; Owner: mamisoa
--

CREATE TABLE public.pointage (
    id character varying(50) NOT NULL,
    id_salle character varying,
    daty date,
    heure_debut time without time zone,
    heure_fin time without time zone,
    nombre_personne integer
);


ALTER TABLE public.pointage OWNER TO mamisoa;

--
-- Name: salle; Type: TABLE; Schema: public; Owner: mamisoa
--

CREATE TABLE public.salle (
    id_salle character varying(50) NOT NULL,
    nom character varying(50) NOT NULL,
    capacite_max integer NOT NULL,
    id_secteur character varying(50) NOT NULL
);


ALTER TABLE public.salle OWNER TO mamisoa;

--
-- Name: secteur; Type: TABLE; Schema: public; Owner: mamisoa
--

CREATE TABLE public.secteur (
    id_secteur character varying(50) NOT NULL,
    nom character varying(50) NOT NULL
);


ALTER TABLE public.secteur OWNER TO mamisoa;

--
-- Name: seq_coupure; Type: SEQUENCE; Schema: public; Owner: mamisoa
--

CREATE SEQUENCE public.seq_coupure
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.seq_coupure OWNER TO mamisoa;

--
-- Name: seq_meteo; Type: SEQUENCE; Schema: public; Owner: mamisoa
--

CREATE SEQUENCE public.seq_meteo
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.seq_meteo OWNER TO mamisoa;

--
-- Name: seq_pointage; Type: SEQUENCE; Schema: public; Owner: mamisoa
--

CREATE SEQUENCE public.seq_pointage
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.seq_pointage OWNER TO mamisoa;

--
-- Name: seq_salle; Type: SEQUENCE; Schema: public; Owner: mamisoa
--

CREATE SEQUENCE public.seq_salle
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.seq_salle OWNER TO mamisoa;

--
-- Name: seq_secteur; Type: SEQUENCE; Schema: public; Owner: mamisoa
--

CREATE SEQUENCE public.seq_secteur
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.seq_secteur OWNER TO mamisoa;

--
-- Name: seq_source; Type: SEQUENCE; Schema: public; Owner: mamisoa
--

CREATE SEQUENCE public.seq_source
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.seq_source OWNER TO mamisoa;

--
-- Name: source_solaire; Type: TABLE; Schema: public; Owner: mamisoa
--

CREATE TABLE public.source_solaire (
    id_source character varying(50) NOT NULL,
    puissance_max double precision NOT NULL,
    reserve_max_batterie double precision NOT NULL,
    id_secteur character varying(50)
);


ALTER TABLE public.source_solaire OWNER TO mamisoa;

--
-- Name: v_pointage_secteur; Type: VIEW; Schema: public; Owner: mamisoa
--

CREATE VIEW public.v_pointage_secteur AS
SELECT
    NULL::character varying(50) AS id_secteur,
    NULL::character varying(50) AS nom,
    NULL::date AS daty,
    NULL::time without time zone AS heure_debut,
    NULL::time without time zone AS heure_fin,
    NULL::bigint AS nombre_personne;


ALTER TABLE public.v_pointage_secteur OWNER TO mamisoa;

--
-- Name: besoin_secteur id_besoin; Type: DEFAULT; Schema: public; Owner: mamisoa
--

ALTER TABLE ONLY public.besoin_secteur ALTER COLUMN id_besoin SET DEFAULT nextval('public.besoin_secteur_id_besoin_seq'::regclass);


--
-- Name: details id; Type: DEFAULT; Schema: public; Owner: mamisoa
--

ALTER TABLE ONLY public.details ALTER COLUMN id SET DEFAULT nextval('public.details_id_seq'::regclass);


--
-- Data for Name: besoin_secteur; Type: TABLE DATA; Schema: public; Owner: mamisoa
--

COPY public.besoin_secteur (id_besoin, daty, heure_coupure, nombre_personne_matin, nombre_personne_apres_midi, puissance_moyenne, id_secteur) FROM stdin;
\.


--
-- Data for Name: coupure; Type: TABLE DATA; Schema: public; Owner: mamisoa
--

COPY public.coupure (id, date_jour, id_secteur, heure) FROM stdin;
COUP0001	2023-11-01	SEC001	15:45:00
COUP0002	2023-11-02	SEC001	16:30:00
COUP0003	2023-11-03	SEC001	17:00:00
COUP0004	2023-11-06	SEC001	15:00:00
COUP0005	2023-11-07	SEC001	15:40:00
COUP0006	2023-11-08	SEC001	15:45:00
COUP0007	2023-11-09	SEC001	16:29:00
COUP0008	2023-11-10	SEC001	17:01:00
COUP0009	2023-11-13	SEC001	15:02:00
COUP0010	2023-11-14	SEC001	15:42:00
COUP0011	2023-11-15	SEC001	15:43:00
COUP0012	2023-11-16	SEC001	16:32:00
COUP0013	2023-11-17	SEC001	17:03:00
COUP0014	2023-11-20	SEC001	14:55:00
COUP0015	2023-11-21	SEC001	15:35:00
COUP0016	2023-11-22	SEC001	15:40:00
COUP0017	2023-11-23	SEC001	16:24:00
COUP0018	2023-11-24	SEC001	16:55:00
COUP0019	2023-11-27	SEC001	15:04:00
COUP0020	2023-11-28	SEC001	15:44:00
COUP0021	2023-11-29	SEC001	15:49:00
COUP0022	2023-11-30	SEC001	16:33:00
COUP0023	2023-12-01	SEC001	17:06:00
COUP0024	2023-12-04	SEC001	14:59:00
COUP0025	2023-12-05	SEC001	15:39:00
COUP0026	2023-12-06	SEC001	15:44:00
COUP0027	2023-12-07	SEC001	16:28:00
COUP0028	2023-12-08	SEC001	17:00:00
COUP0029	2023-12-11	SEC001	15:46:00
COUP0030	2023-12-12	SEC001	16:32:00
COUP0031	2023-12-13	SEC001	17:01:00
\.


--
-- Data for Name: details; Type: TABLE DATA; Schema: public; Owner: mamisoa
--

COPY public.details (id, date_details, heure, secteur, puissance_delivree, puissance_delivree_batterie, reserve_batterie, besoin, etat) FROM stdin;
\.


--
-- Data for Name: meteo; Type: TABLE DATA; Schema: public; Owner: mamisoa
--

COPY public.meteo (id, date_meteo, heure_debut, heure_fin, luminosite) FROM stdin;
MET0177	2023-11-01	08:00:00	08:59:00	8
MET0178	2023-11-01	09:00:00	09:59:00	7
MET0179	2023-11-01	10:00:00	10:59:00	9
MET0180	2023-11-01	11:00:00	11:59:00	9
MET0181	2023-11-01	12:00:00	12:59:00	10
MET0182	2023-11-01	13:00:00	13:59:00	8
MET0183	2023-11-01	14:00:00	14:59:00	8
MET0184	2023-11-01	15:00:00	15:59:00	7
MET0185	2023-11-01	16:00:00	16:59:00	6
MET0186	2023-11-01	17:00:00	18:00:00	4
MET0187	2023-11-02	08:00:00	08:59:00	8
MET0188	2023-11-02	09:00:00	09:59:00	7
MET0189	2023-11-02	10:00:00	10:59:00	9
MET0190	2023-11-02	11:00:00	11:59:00	9
MET0191	2023-11-02	12:00:00	12:59:00	10
MET0192	2023-11-02	13:00:00	13:59:00	8
MET0193	2023-11-02	14:00:00	14:59:00	8
MET0194	2023-11-02	15:00:00	15:59:00	7
MET0195	2023-11-02	16:00:00	16:59:00	6
MET0196	2023-11-02	17:00:00	18:00:00	4
MET0197	2023-11-03	08:00:00	08:59:00	8
MET0198	2023-11-03	09:00:00	09:59:00	7
MET0199	2023-11-03	10:00:00	10:59:00	9
MET0200	2023-11-03	11:00:00	11:59:00	9
MET0201	2023-11-03	12:00:00	12:59:00	10
MET0202	2023-11-03	13:00:00	13:59:00	8
MET0203	2023-11-03	14:00:00	14:59:00	8
MET0204	2023-11-03	15:00:00	15:59:00	7
MET0205	2023-11-03	16:00:00	16:59:00	6
MET0206	2023-11-03	17:00:00	18:00:00	4
MET0207	2023-11-06	08:00:00	08:59:00	8
MET0208	2023-11-06	09:00:00	09:59:00	7
MET0209	2023-11-06	10:00:00	10:59:00	9
MET0210	2023-11-06	11:00:00	11:59:00	9
MET0211	2023-11-06	12:00:00	12:59:00	10
MET0212	2023-11-06	13:00:00	13:59:00	8
MET0213	2023-11-06	14:00:00	14:59:00	8
MET0214	2023-11-06	15:00:00	15:59:00	7
MET0215	2023-11-06	16:00:00	16:59:00	6
MET0216	2023-11-06	17:00:00	18:00:00	4
MET0217	2023-11-07	08:00:00	08:59:00	8
MET0218	2023-11-07	09:00:00	09:59:00	7
MET0219	2023-11-07	10:00:00	10:59:00	9
MET0220	2023-11-07	11:00:00	11:59:00	9
MET0221	2023-11-07	12:00:00	12:59:00	10
MET0222	2023-11-07	13:00:00	13:59:00	8
MET0223	2023-11-07	14:00:00	14:59:00	8
MET0224	2023-11-07	15:00:00	15:59:00	7
MET0225	2023-11-07	16:00:00	16:59:00	6
MET0226	2023-11-07	17:00:00	18:00:00	4
MET0227	2023-11-08	08:00:00	08:59:00	8
MET0228	2023-11-08	09:00:00	09:59:00	7
MET0229	2023-11-08	10:00:00	10:59:00	9
MET0230	2023-11-08	11:00:00	11:59:00	9
MET0231	2023-11-08	12:00:00	12:59:00	10
MET0232	2023-11-08	13:00:00	13:59:00	8
MET0233	2023-11-08	14:00:00	14:59:00	8
MET0234	2023-11-08	15:00:00	15:59:00	7
MET0235	2023-11-08	16:00:00	16:59:00	6
MET0236	2023-11-08	17:00:00	18:00:00	4
MET0237	2023-11-09	08:00:00	08:59:00	8
MET0238	2023-11-09	09:00:00	09:59:00	7
MET0239	2023-11-09	10:00:00	10:59:00	9
MET0240	2023-11-09	11:00:00	11:59:00	9
MET0241	2023-11-09	12:00:00	12:59:00	10
MET0242	2023-11-09	13:00:00	13:59:00	8
MET0243	2023-11-09	14:00:00	14:59:00	8
MET0244	2023-11-09	15:00:00	15:59:00	7
MET0245	2023-11-09	16:00:00	16:59:00	6
MET0246	2023-11-09	17:00:00	18:00:00	4
MET0247	2023-11-10	08:00:00	08:59:00	8
MET0248	2023-11-10	09:00:00	09:59:00	7
MET0249	2023-11-10	10:00:00	10:59:00	9
MET0250	2023-11-10	11:00:00	11:59:00	9
MET0251	2023-11-10	12:00:00	12:59:00	10
MET0252	2023-11-10	13:00:00	13:59:00	8
MET0253	2023-11-10	14:00:00	14:59:00	8
MET0254	2023-11-10	15:00:00	15:59:00	7
MET0255	2023-11-10	16:00:00	16:59:00	6
MET0256	2023-11-10	17:00:00	18:00:00	4
MET0257	2023-11-13	08:00:00	08:59:00	8
MET0258	2023-11-13	09:00:00	09:59:00	7
MET0259	2023-11-13	10:00:00	10:59:00	9
MET0260	2023-11-13	11:00:00	11:59:00	9
MET0261	2023-11-13	12:00:00	12:59:00	10
MET0262	2023-11-13	13:00:00	13:59:00	8
MET0263	2023-11-13	14:00:00	14:59:00	8
MET0264	2023-11-13	15:00:00	15:59:00	7
MET0265	2023-11-13	16:00:00	16:59:00	6
MET0266	2023-11-13	17:00:00	18:00:00	4
MET0267	2023-11-14	08:00:00	08:59:00	8
MET0268	2023-11-14	09:00:00	09:59:00	7
MET0269	2023-11-14	10:00:00	10:59:00	9
MET0270	2023-11-14	11:00:00	11:59:00	9
MET0271	2023-11-14	12:00:00	12:59:00	10
MET0272	2023-11-14	13:00:00	13:59:00	8
MET0273	2023-11-14	14:00:00	14:59:00	8
MET0274	2023-11-14	15:00:00	15:59:00	7
MET0275	2023-11-14	16:00:00	16:59:00	6
MET0276	2023-11-14	17:00:00	18:00:00	4
MET0277	2023-11-15	08:00:00	08:59:00	8
MET0278	2023-11-15	09:00:00	09:59:00	7
MET0279	2023-11-15	10:00:00	10:59:00	9
MET0280	2023-11-15	11:00:00	11:59:00	9
MET0281	2023-11-15	12:00:00	12:59:00	10
MET0282	2023-11-15	13:00:00	13:59:00	8
MET0283	2023-11-15	14:00:00	14:59:00	8
MET0284	2023-11-15	15:00:00	15:59:00	7
MET0285	2023-11-15	16:00:00	16:59:00	6
MET0286	2023-11-15	17:00:00	18:00:00	4
MET0287	2023-11-16	08:00:00	08:59:00	8
MET0288	2023-11-16	09:00:00	09:59:00	7
MET0289	2023-11-16	10:00:00	10:59:00	9
MET0290	2023-11-16	11:00:00	11:59:00	9
MET0291	2023-11-16	12:00:00	12:59:00	10
MET0292	2023-11-16	13:00:00	13:59:00	8
MET0293	2023-11-16	14:00:00	14:59:00	8
MET0294	2023-11-16	15:00:00	15:59:00	7
MET0295	2023-11-16	16:00:00	16:59:00	6
MET0296	2023-11-16	17:00:00	18:00:00	4
MET0297	2023-11-17	08:00:00	08:59:00	8
MET0298	2023-11-17	09:00:00	09:59:00	7
MET0299	2023-11-17	10:00:00	10:59:00	9
MET0300	2023-11-17	11:00:00	11:59:00	9
MET0301	2023-11-17	12:00:00	12:59:00	10
MET0302	2023-11-17	13:00:00	13:59:00	8
MET0303	2023-11-17	14:00:00	14:59:00	8
MET0304	2023-11-17	15:00:00	15:59:00	7
MET0305	2023-11-17	16:00:00	16:59:00	6
MET0306	2023-11-17	17:00:00	18:00:00	4
MET0307	2023-11-20	08:00:00	08:59:00	8
MET0308	2023-11-20	09:00:00	09:59:00	7
MET0309	2023-11-20	10:00:00	10:59:00	9
MET0310	2023-11-20	11:00:00	11:59:00	9
MET0311	2023-11-20	12:00:00	12:59:00	10
MET0312	2023-11-20	13:00:00	13:59:00	8
MET0313	2023-11-20	14:00:00	14:59:00	8
MET0314	2023-11-20	15:00:00	15:59:00	7
MET0315	2023-11-20	16:00:00	16:59:00	6
MET0316	2023-11-20	17:00:00	18:00:00	4
MET0317	2023-11-21	08:00:00	08:59:00	8
MET0318	2023-11-21	09:00:00	09:59:00	7
MET0319	2023-11-21	10:00:00	10:59:00	9
MET0320	2023-11-21	11:00:00	11:59:00	9
MET0321	2023-11-21	12:00:00	12:59:00	10
MET0322	2023-11-21	13:00:00	13:59:00	8
MET0323	2023-11-21	14:00:00	14:59:00	8
MET0324	2023-11-21	15:00:00	15:59:00	7
MET0325	2023-11-21	16:00:00	16:59:00	6
MET0326	2023-11-21	17:00:00	18:00:00	4
MET0327	2023-11-22	08:00:00	08:59:00	8
MET0328	2023-11-22	09:00:00	09:59:00	7
MET0329	2023-11-22	10:00:00	10:59:00	9
MET0330	2023-11-22	11:00:00	11:59:00	9
MET0331	2023-11-22	12:00:00	12:59:00	10
MET0332	2023-11-22	13:00:00	13:59:00	8
MET0333	2023-11-22	14:00:00	14:59:00	8
MET0334	2023-11-22	15:00:00	15:59:00	7
MET0335	2023-11-22	16:00:00	16:59:00	6
MET0336	2023-11-22	17:00:00	18:00:00	4
MET0337	2023-11-23	08:00:00	08:59:00	8
MET0338	2023-11-23	09:00:00	09:59:00	7
MET0339	2023-11-23	10:00:00	10:59:00	9
MET0340	2023-11-23	11:00:00	11:59:00	9
MET0341	2023-11-23	12:00:00	12:59:00	10
MET0342	2023-11-23	13:00:00	13:59:00	8
MET0343	2023-11-23	14:00:00	14:59:00	8
MET0344	2023-11-23	15:00:00	15:59:00	7
MET0345	2023-11-23	16:00:00	16:59:00	6
MET0346	2023-11-23	17:00:00	18:00:00	4
MET0347	2023-11-24	08:00:00	08:59:00	8
MET0348	2023-11-24	09:00:00	09:59:00	7
MET0349	2023-11-24	10:00:00	10:59:00	9
MET0350	2023-11-24	11:00:00	11:59:00	9
MET0351	2023-11-24	12:00:00	12:59:00	10
MET0352	2023-11-24	13:00:00	13:59:00	8
MET0353	2023-11-24	14:00:00	14:59:00	8
MET0354	2023-11-24	15:00:00	15:59:00	7
MET0355	2023-11-24	16:00:00	16:59:00	6
MET0356	2023-11-24	17:00:00	18:00:00	4
MET0357	2023-11-27	08:00:00	08:59:00	8
MET0358	2023-11-27	09:00:00	09:59:00	7
MET0359	2023-11-27	10:00:00	10:59:00	9
MET0360	2023-11-27	11:00:00	11:59:00	9
MET0361	2023-11-27	12:00:00	12:59:00	10
MET0362	2023-11-27	13:00:00	13:59:00	8
MET0363	2023-11-27	14:00:00	14:59:00	8
MET0364	2023-11-27	15:00:00	15:59:00	7
MET0365	2023-11-27	16:00:00	16:59:00	6
MET0366	2023-11-27	17:00:00	18:00:00	4
MET0367	2023-11-28	08:00:00	08:59:00	8
MET0368	2023-11-28	09:00:00	09:59:00	7
MET0369	2023-11-28	10:00:00	10:59:00	9
MET0370	2023-11-28	11:00:00	11:59:00	9
MET0371	2023-11-28	12:00:00	12:59:00	10
MET0372	2023-11-28	13:00:00	13:59:00	8
MET0373	2023-11-28	14:00:00	14:59:00	8
MET0374	2023-11-28	15:00:00	15:59:00	7
MET0375	2023-11-28	16:00:00	16:59:00	6
MET0376	2023-11-28	17:00:00	18:00:00	4
MET0377	2023-11-29	08:00:00	08:59:00	8
MET0378	2023-11-29	09:00:00	09:59:00	7
MET0379	2023-11-29	10:00:00	10:59:00	9
MET0380	2023-11-29	11:00:00	11:59:00	9
MET0381	2023-11-29	12:00:00	12:59:00	10
MET0382	2023-11-29	13:00:00	13:59:00	8
MET0383	2023-11-29	14:00:00	14:59:00	8
MET0384	2023-11-29	15:00:00	15:59:00	7
MET0385	2023-11-29	16:00:00	16:59:00	6
MET0386	2023-11-29	17:00:00	18:00:00	4
MET0387	2023-11-30	08:00:00	08:59:00	8
MET0388	2023-11-30	09:00:00	09:59:00	7
MET0389	2023-11-30	10:00:00	10:59:00	9
MET0390	2023-11-30	11:00:00	11:59:00	9
MET0391	2023-11-30	12:00:00	12:59:00	10
MET0392	2023-11-30	13:00:00	13:59:00	8
MET0393	2023-11-30	14:00:00	14:59:00	8
MET0394	2023-11-30	15:00:00	15:59:00	7
MET0395	2023-11-30	16:00:00	16:59:00	6
MET0396	2023-11-30	17:00:00	18:00:00	4
MET0397	2023-12-01	08:00:00	08:59:00	8
MET0398	2023-12-01	09:00:00	09:59:00	7
MET0399	2023-12-01	10:00:00	10:59:00	9
MET0400	2023-12-01	11:00:00	11:59:00	9
MET0401	2023-12-01	12:00:00	12:59:00	10
MET0402	2023-12-01	13:00:00	13:59:00	8
MET0403	2023-12-01	14:00:00	14:59:00	8
MET0404	2023-12-01	15:00:00	15:59:00	7
MET0405	2023-12-01	16:00:00	16:59:00	6
MET0406	2023-12-01	17:00:00	18:00:00	4
MET0407	2023-12-04	08:00:00	08:59:00	8
MET0408	2023-12-04	09:00:00	09:59:00	7
MET0409	2023-12-04	10:00:00	10:59:00	9
MET0410	2023-12-04	11:00:00	11:59:00	9
MET0411	2023-12-04	12:00:00	12:59:00	10
MET0412	2023-12-04	13:00:00	13:59:00	8
MET0413	2023-12-04	14:00:00	14:59:00	8
MET0414	2023-12-04	15:00:00	15:59:00	7
MET0415	2023-12-04	16:00:00	16:59:00	6
MET0416	2023-12-04	17:00:00	18:00:00	4
MET0417	2023-12-05	08:00:00	08:59:00	8
MET0418	2023-12-05	09:00:00	09:59:00	7
MET0419	2023-12-05	10:00:00	10:59:00	9
MET0420	2023-12-05	11:00:00	11:59:00	9
MET0421	2023-12-05	12:00:00	12:59:00	10
MET0422	2023-12-05	13:00:00	13:59:00	8
MET0423	2023-12-05	14:00:00	14:59:00	8
MET0424	2023-12-05	15:00:00	15:59:00	7
MET0425	2023-12-05	16:00:00	16:59:00	6
MET0426	2023-12-05	17:00:00	18:00:00	4
MET0427	2023-12-06	08:00:00	08:59:00	8
MET0428	2023-12-06	09:00:00	09:59:00	7
MET0429	2023-12-06	10:00:00	10:59:00	9
MET0430	2023-12-06	11:00:00	11:59:00	9
MET0431	2023-12-06	12:00:00	12:59:00	10
MET0432	2023-12-06	13:00:00	13:59:00	8
MET0433	2023-12-06	14:00:00	14:59:00	8
MET0434	2023-12-06	15:00:00	15:59:00	7
MET0435	2023-12-06	16:00:00	16:59:00	6
MET0436	2023-12-06	17:00:00	18:00:00	4
MET0437	2023-12-07	08:00:00	08:59:00	8
MET0438	2023-12-07	09:00:00	09:59:00	7
MET0439	2023-12-07	10:00:00	10:59:00	9
MET0440	2023-12-07	11:00:00	11:59:00	9
MET0441	2023-12-07	12:00:00	12:59:00	10
MET0442	2023-12-07	13:00:00	13:59:00	8
MET0443	2023-12-07	14:00:00	14:59:00	8
MET0444	2023-12-07	15:00:00	15:59:00	7
MET0445	2023-12-07	16:00:00	16:59:00	6
MET0446	2023-12-07	17:00:00	18:00:00	4
MET0447	2023-12-08	08:00:00	08:59:00	8
MET0448	2023-12-08	09:00:00	09:59:00	7
MET0449	2023-12-08	10:00:00	10:59:00	9
MET0450	2023-12-08	11:00:00	11:59:00	9
MET0451	2023-12-08	12:00:00	12:59:00	10
MET0452	2023-12-08	13:00:00	13:59:00	8
MET0453	2023-12-08	14:00:00	14:59:00	8
MET0454	2023-12-08	15:00:00	15:59:00	7
MET0455	2023-12-08	16:00:00	16:59:00	6
MET0456	2023-12-08	17:00:00	18:00:00	4
MET0457	2023-12-11	08:00:00	08:59:00	8
MET0458	2023-12-11	09:00:00	09:59:00	7
MET0459	2023-12-11	10:00:00	10:59:00	9
MET0460	2023-12-11	11:00:00	11:59:00	9
MET0461	2023-12-11	12:00:00	12:59:00	10
MET0462	2023-12-11	13:00:00	13:59:00	8
MET0463	2023-12-11	14:00:00	14:59:00	8
MET0464	2023-12-11	15:00:00	15:59:00	7
MET0465	2023-12-11	16:00:00	16:59:00	6
MET0466	2023-12-11	17:00:00	18:00:00	4
MET0467	2023-12-12	08:00:00	08:59:00	8
MET0468	2023-12-12	09:00:00	09:59:00	7
MET0469	2023-12-12	10:00:00	10:59:00	9
MET0470	2023-12-12	11:00:00	11:59:00	9
MET0471	2023-12-12	12:00:00	12:59:00	10
MET0472	2023-12-12	13:00:00	13:59:00	8
MET0473	2023-12-12	14:00:00	14:59:00	8
MET0474	2023-12-12	15:00:00	15:59:00	7
MET0475	2023-12-12	16:00:00	16:59:00	6
MET0476	2023-12-12	17:00:00	18:00:00	4
MET0477	2023-12-13	08:00:00	08:59:00	8
MET0478	2023-12-13	09:00:00	09:59:00	7
MET0479	2023-12-13	10:00:00	10:59:00	9
MET0480	2023-12-13	11:00:00	11:59:00	9
MET0481	2023-12-13	12:00:00	12:59:00	10
MET0482	2023-12-13	13:00:00	13:59:00	8
MET0483	2023-12-13	14:00:00	14:59:00	8
MET0484	2023-12-13	15:00:00	15:59:00	7
MET0485	2023-12-13	16:00:00	16:59:00	6
MET0486	2023-12-13	17:00:00	18:00:00	4
\.


--
-- Data for Name: pointage; Type: TABLE DATA; Schema: public; Owner: mamisoa
--

COPY public.pointage (id, id_salle, daty, heure_debut, heure_fin, nombre_personne) FROM stdin;
POIN00001	SAL001	2023-11-01	08:00:00	11:59:00	300
POIN00002	SAL001	2023-11-01	12:00:00	17:59:00	280
POIN00003	SAL001	2023-11-02	08:00:00	11:59:00	250
POIN00004	SAL001	2023-11-02	12:00:00	17:59:00	240
POIN00005	SAL001	2023-11-03	08:00:00	11:59:00	220
POIN00006	SAL001	2023-11-03	12:00:00	17:59:00	210
POIN00007	SAL001	2023-11-06	08:00:00	11:59:00	320
POIN00008	SAL001	2023-11-06	12:00:00	17:59:00	330
POIN00009	SAL001	2023-11-07	08:00:00	11:59:00	300
POIN00011	SAL001	2023-11-08	08:00:00	11:59:00	300
POIN00012	SAL001	2023-11-08	12:00:00	17:59:00	280
POIN00013	SAL001	2023-11-09	08:00:00	11:59:00	250
POIN00014	SAL001	2023-11-09	12:00:00	17:59:00	240
POIN00015	SAL001	2023-11-10	08:00:00	11:59:00	220
POIN00016	SAL001	2023-11-10	12:00:00	17:59:00	210
POIN00021	SAL001	2023-11-15	08:00:00	11:59:00	300
POIN00022	SAL001	2023-11-15	12:00:00	17:59:00	280
POIN00023	SAL001	2023-11-16	08:00:00	11:59:00	250
POIN00024	SAL001	2023-11-16	12:00:00	17:59:00	240
POIN00025	SAL001	2023-11-17	08:00:00	11:59:00	220
POIN00026	SAL001	2023-11-17	12:00:00	17:59:00	210
POIN00031	SAL001	2023-11-22	08:00:00	11:59:00	300
POIN00032	SAL001	2023-11-22	12:00:00	17:59:00	280
POIN00033	SAL001	2023-11-23	08:00:00	11:59:00	250
POIN00034	SAL001	2023-11-23	12:00:00	17:59:00	240
POIN00035	SAL001	2023-11-24	08:00:00	11:59:00	220
POIN00036	SAL001	2023-11-24	12:00:00	17:59:00	210
POIN00041	SAL001	2023-11-29	08:00:00	11:59:00	300
POIN00042	SAL001	2023-11-29	12:00:00	17:59:00	280
POIN00043	SAL001	2023-11-30	08:00:00	11:59:00	250
POIN00044	SAL001	2023-11-30	12:00:00	17:59:00	240
POIN00045	SAL001	2023-12-01	08:00:00	11:59:00	220
POIN00046	SAL001	2023-12-01	12:00:00	17:59:00	210
POIN00051	SAL001	2023-12-06	08:00:00	11:59:00	300
POIN00052	SAL001	2023-12-06	12:00:00	17:59:00	280
POIN00053	SAL001	2023-12-07	08:00:00	11:59:00	250
POIN00054	SAL001	2023-12-07	12:00:00	17:59:00	240
POIN00055	SAL001	2023-12-08	08:00:00	11:59:00	220
POIN00056	SAL001	2023-12-08	12:00:00	17:59:00	210
POIN00061	SAL001	2023-12-13	08:00:00	11:59:00	300
POIN00062	SAL001	2023-12-13	12:00:00	17:59:00	280
POIN00010	SAL001	2023-11-07	12:00:00	17:59:00	290
POIN00017	SAL001	2023-11-13	08:00:00	11:59:00	320
POIN00018	SAL001	2023-11-13	12:00:00	17:59:00	330
POIN00019	SAL001	2023-11-14	08:00:00	11:59:00	300
POIN00020	SAL001	2023-11-14	12:00:00	17:59:00	290
POIN00027	SAL001	2023-11-20	08:00:00	11:59:00	320
POIN00028	SAL001	2023-11-20	12:00:00	17:59:00	330
POIN00029	SAL001	2023-11-21	08:00:00	11:59:00	300
POIN00030	SAL001	2023-11-21	12:00:00	17:59:00	290
POIN00037	SAL001	2023-11-27	08:00:00	11:59:00	320
POIN00038	SAL001	2023-11-27	12:00:00	17:59:00	330
POIN00039	SAL001	2023-11-28	08:00:00	11:59:00	300
POIN00040	SAL001	2023-11-28	12:00:00	17:59:00	290
POIN00047	SAL001	2023-12-04	08:00:00	11:59:00	320
POIN00048	SAL001	2023-12-04	12:00:00	17:59:00	330
POIN00049	SAL001	2023-12-05	08:00:00	11:59:00	300
POIN00050	SAL001	2023-12-05	12:00:00	17:59:00	290
POIN00057	SAL001	2023-12-11	08:00:00	11:59:00	320
POIN00058	SAL001	2023-12-11	12:00:00	17:59:00	330
POIN00059	SAL001	2023-12-12	08:00:00	11:59:00	300
POIN00060	SAL001	2023-12-12	12:00:00	17:59:00	290
\.


--
-- Data for Name: salle; Type: TABLE DATA; Schema: public; Owner: mamisoa
--

COPY public.salle (id_salle, nom, capacite_max, id_secteur) FROM stdin;
SAL001	Amphi A	150	SEC001
SAL002	Amphi B	150	SEC001
\.


--
-- Data for Name: secteur; Type: TABLE DATA; Schema: public; Owner: mamisoa
--

COPY public.secteur (id_secteur, nom) FROM stdin;
SECT0001	Secteur 1
SECT0002	Secteur 2
SECT0003	Secteur 3
SEC001	Secteur 1
\.


--
-- Data for Name: source_solaire; Type: TABLE DATA; Schema: public; Owner: mamisoa
--

COPY public.source_solaire (id_source, puissance_max, reserve_max_batterie, id_secteur) FROM stdin;
SRC00001	25000	19200	SEC001
\.


--
-- Name: besoin_secteur_id_besoin_seq; Type: SEQUENCE SET; Schema: public; Owner: mamisoa
--

SELECT pg_catalog.setval('public.besoin_secteur_id_besoin_seq', 894, true);


--
-- Name: details_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mamisoa
--

SELECT pg_catalog.setval('public.details_id_seq', 322, true);


--
-- Name: seq_coupure; Type: SEQUENCE SET; Schema: public; Owner: mamisoa
--

SELECT pg_catalog.setval('public.seq_coupure', 1, false);


--
-- Name: seq_meteo; Type: SEQUENCE SET; Schema: public; Owner: mamisoa
--

SELECT pg_catalog.setval('public.seq_meteo', 1, false);


--
-- Name: seq_pointage; Type: SEQUENCE SET; Schema: public; Owner: mamisoa
--

SELECT pg_catalog.setval('public.seq_pointage', 1, false);


--
-- Name: seq_salle; Type: SEQUENCE SET; Schema: public; Owner: mamisoa
--

SELECT pg_catalog.setval('public.seq_salle', 1, false);


--
-- Name: seq_secteur; Type: SEQUENCE SET; Schema: public; Owner: mamisoa
--

SELECT pg_catalog.setval('public.seq_secteur', 1, false);


--
-- Name: seq_source; Type: SEQUENCE SET; Schema: public; Owner: mamisoa
--

SELECT pg_catalog.setval('public.seq_source', 1, false);


--
-- Name: besoin_secteur besoin_secteur_pkey; Type: CONSTRAINT; Schema: public; Owner: mamisoa
--

ALTER TABLE ONLY public.besoin_secteur
    ADD CONSTRAINT besoin_secteur_pkey PRIMARY KEY (id_besoin);


--
-- Name: coupure coupure_pkey; Type: CONSTRAINT; Schema: public; Owner: mamisoa
--

ALTER TABLE ONLY public.coupure
    ADD CONSTRAINT coupure_pkey PRIMARY KEY (id);


--
-- Name: details details_pkey; Type: CONSTRAINT; Schema: public; Owner: mamisoa
--

ALTER TABLE ONLY public.details
    ADD CONSTRAINT details_pkey PRIMARY KEY (id);


--
-- Name: meteo meteo_pkey; Type: CONSTRAINT; Schema: public; Owner: mamisoa
--

ALTER TABLE ONLY public.meteo
    ADD CONSTRAINT meteo_pkey PRIMARY KEY (id);


--
-- Name: pointage pointage_pkey; Type: CONSTRAINT; Schema: public; Owner: mamisoa
--

ALTER TABLE ONLY public.pointage
    ADD CONSTRAINT pointage_pkey PRIMARY KEY (id);


--
-- Name: salle salle_pkey; Type: CONSTRAINT; Schema: public; Owner: mamisoa
--

ALTER TABLE ONLY public.salle
    ADD CONSTRAINT salle_pkey PRIMARY KEY (id_salle);


--
-- Name: secteur secteur_pkey; Type: CONSTRAINT; Schema: public; Owner: mamisoa
--

ALTER TABLE ONLY public.secteur
    ADD CONSTRAINT secteur_pkey PRIMARY KEY (id_secteur);


--
-- Name: source_solaire source_solaire_id_secteur_key; Type: CONSTRAINT; Schema: public; Owner: mamisoa
--

ALTER TABLE ONLY public.source_solaire
    ADD CONSTRAINT source_solaire_id_secteur_key UNIQUE (id_secteur);


--
-- Name: source_solaire source_solaire_pkey; Type: CONSTRAINT; Schema: public; Owner: mamisoa
--

ALTER TABLE ONLY public.source_solaire
    ADD CONSTRAINT source_solaire_pkey PRIMARY KEY (id_source);


--
-- Name: v_pointage_secteur _RETURN; Type: RULE; Schema: public; Owner: mamisoa
--

CREATE OR REPLACE VIEW public.v_pointage_secteur AS
 SELECT s.id_secteur,
    s.nom,
    p.daty,
    p.heure_debut,
    p.heure_fin,
    sum(p.nombre_personne) AS nombre_personne
   FROM ((public.salle b
     JOIN public.secteur s ON (((b.id_secteur)::text = (s.id_secteur)::text)))
     JOIN public.pointage p ON (((p.id_salle)::text = (b.id_salle)::text)))
  GROUP BY s.id_secteur, p.daty, p.heure_debut, p.heure_fin;


--
-- Name: besoin_secteur besoin_secteur_id_secteur_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mamisoa
--

ALTER TABLE ONLY public.besoin_secteur
    ADD CONSTRAINT besoin_secteur_id_secteur_fkey FOREIGN KEY (id_secteur) REFERENCES public.secteur(id_secteur);


--
-- Name: coupure coupure_id_secteur_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mamisoa
--

ALTER TABLE ONLY public.coupure
    ADD CONSTRAINT coupure_id_secteur_fkey FOREIGN KEY (id_secteur) REFERENCES public.secteur(id_secteur);


--
-- Name: pointage pointage_id_salle_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mamisoa
--

ALTER TABLE ONLY public.pointage
    ADD CONSTRAINT pointage_id_salle_fkey FOREIGN KEY (id_salle) REFERENCES public.salle(id_salle);


--
-- Name: source_solaire source_solaire_id_secteur_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mamisoa
--

ALTER TABLE ONLY public.source_solaire
    ADD CONSTRAINT source_solaire_id_secteur_fkey FOREIGN KEY (id_secteur) REFERENCES public.secteur(id_secteur);


--
-- PostgreSQL database dump complete
--

